<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Language" content="en-us">
<link rel="stylesheet" href="http://www.unicode.org/reports/reports.css" type="text/css">
<title>UTR# 48: Unicode Script Edge Cases</title>
<style type="text/css">
<!--
span.special {
	text-decoration: underline;
	font-weight: bold;
	color: #FF0000;
	font-family: monospace;
	font-size: 12px
}
.idn-head {
	font-size: 12px;
	background-color: #C0C0C0
}
span.mono {
	font-family: monospace;
	font-size: 12px
}
.idn-example {
	font-size:12px;
	font-family:Arial Unicode MS, san-serif
}
.noborder {
	border-width: 0;
	border-collapse: collapse;
}
.alert {
	border-style:outset;
	border-width:3px;
	background-color:#DDDDFF;
	border-collapse: collapse;
	width:80%
}
.alertcell {
	border-width: 0;
	padding: 1em
}
.noborder1 {border-width: 0; border-collapse: collapse; }
-->
</style>
</head>
<body>
<table class="header" cellspacing="0" cellpadding="0" width="100%">
  <tr>
    <td class="icon"><a href="http://www.unicode.org"> <img align="middle" alt="[Unicode]" border="0" src="http://www.unicode.org/webscripts/logo60s2.gif" width="34" height="33"></a>&nbsp; <a class="bar" href="http://www.unicode.org/reports/">Technical Reports</a></td>
  </tr>
  <tr>
    <td class="gray">&nbsp;</td>
  </tr>
</table>
<div class="body">
  <h2 align="center"><span class="changed" >Working Draft </span>Unicode Technical Report #48</h2>
  <h1>Unicode MULTIScript CHARACTERS</h1>
  <table border="1" cellpadding="2" class="wide">
    <tr>
      <td valign="top" width="20%">Editors</td>
      <td valign="top">Mark Davis (<a href="mailto:markdavis@google.com">markdavis@google.com</a>)</td>
    </tr>
    <tr>
      <td valign="top">Date</td>
      <td valign="top" class="changed">20<span >10-04-15 <strong>(draft 1)</strong></span></td>
    </tr>
    <tr>
      <td valign="top">This Version</td>
      <td valign="top" class="changed" ><a href="http://www.unicode.org/reports/tr48/tr48-1.html">http://www.unicode.org/reports/tr48/tr48-1.html</a></td>
    </tr>
    <tr>
      <td valign="top">Previous Version</td>
      <td valign="top" class="changed" >n/a</td>
    </tr>
    <tr>
      <td valign="top">Latest Version</td>
      <td valign="top"><a href="http://www.unicode.org/reports/tr48/">http://www.unicode.org/reports/tr48/</a></td>
    </tr>
    <tr >
      <td valign="top">Latest Proposed Update</td>
      <td valign="top"><a href="http://www.unicode.org/reports/tr48/proposed.html">http://www.unicode.org/reports/tr48/proposed.html</a></td>
    </tr>
    <tr>
      <td valign="top">Revision</td>
      <td valign="top" class="changed"><a href="#Modifications" class="changed">1</a></td>
    </tr>
  </table>
  <h3><br>
    <i>Summary</i></h3>
  <p><i>This document provides a data file for Script_Specials, which provides additional information to allow users to enhance their use of the script property.</i></p>
  <h3><i>Status</i></h3>
  <p> <i>This is a<b><font color="#ff3333"> draft </font></b>document which 
    may be updated, replaced, or superseded by other documents at any time. 
    Publication does not imply endorsement by the Unicode Consortium. This 
    is not a stable document; it is inappropriate to cite this document as 
    other than a work in progress.</i></p>
  <blockquote>
    <p><i><b>A Unicode Technical Report (UTR) </b>contains informative material. Conformance 
      to the Unicode Standard does not imply conformance to any UTR. Other specifications, however, 
      are free to make normative references to a UTR.</i></p>
  </blockquote>
  <p><i>Please submit corrigenda and other comments with the online reporting form [<a href="#Feedback">Feedback</a>]. 
    Related information that is useful in understanding this document is found in the <a href="#References">References</a>. For the 
    latest version of the Unicode Standard see [<a href="#Unicode">Unicode</a>]. 
    For a list of current Unicode Technical Reports see [<a href="#Reports">Reports</a>]. 
    For more information about versions of the Unicode Standard, see [<a href="#Versions">Versions</a>].</i>  </p>
  <h3><i>Contents</i></h3>
  <ul class="toc">
    <li>1. <a href="#Introduction">Introduction</a></li>
    <li>2. <a href="#Usage">Usage</a></li>
    <li>3. <a href="#Stability">Stability</a></li>
    <li>4. <a href="#Data_File">Data File</a></li>
    <li><a href="#Acknowledgements">Acknowledgements</a></li>
    <li><a href="#References">References</a></li>
    <li><a href="#Modifications">Modifications</a></li>
    <li>&nbsp;</li>
  </ul>
  <hr>
  <h2 align="left"><a name="Introduction"></a>1. Introduction</h2>
  <p>The Unicode script property provides a basic categorization of Unicode characters based on script (see <em>UAX #24, Script Names</em> [<a href="#UAX24">UAX24</a>]). However, it does not handle cases well where a character should be categorized as belonging to more than one script (but not all scripts). This is especially important in the area of mixed script detection for spoofing, but also for other applications such as text layout. In addition, there are cases where the Unicode script property follows the appearance or derivation of the character, without regard to the usage. This document provides a data file for Script_Specials, which provides additional information to allow users to enhance their use of the script property.</p>
  <p class="reviewnote">[Review Note: There are two options for the additional script information: it could be a formal Unicode property and data file, similar to SpecialCasing.txt; or it could be additional information associated with another specification, such as UTS #39. If it is a new property, it is a bit different than the current ones because logically the value is a set of script tags.]</p>
  <p class="reviewnote">[Review Note: The title &quot;Script Edge Cases&quot; is just a working title: depending on what we do with this, we should change it to be more appropriate.]</p>
  <p>A view of the draft data is provided at <a href="http://unicode.org/cldr/utility/list-unicodeset.jsp?a=[:scs!%3D@sc@:]&amp;g=sc+scs">unicode utilities</a>. It lists the characters with special script values first by their Unicode script property values, then by the special script value. The data file backing this view is described in <em>Section 4, <a href="#Data_File">Data File</a></em>.</p>
<p>Many of the Script_Specials values map Script=Common characters to the subset of all scripts that the characters are actually used with. For example, <a target="c" href="character.jsp?a=0660">U+0660</a> ( ٠ ) ARABIC-INDIC DIGIT ZERO used both with Arabic and with Syriac; similarly, <a target="c" href="character.jsp?a=30FC">U+30FC</a> ( ー ) KATAKANA-HIRAGANA PROLONGED SOUND MARK is shared between Hiragana and Katanana. Other Script_Specials values  override the Unicode script property value to reflect the usage of the character (rather than the form or derivation). </p>
<p>Rev Note: assignments based on actual usage.</p>
<p>May change</p>
<p>Document that target is customary modern use. Ideosyncratic notations not including. Does not encompass technical usage such as UPA or math, which may encorporate characters from different scripts.</p>
<p>Change name.</p>
<p>Data changes:</p>
<p> 1. Remove Hans/Hant distinction. Discuss the issue in the text.</p>
<p>2. Goal for the 1:1 mappings is to  recommend changing the script property, change to a multiple script value, or remove from the file, whichever is appropriate. Michel, Ken, Peters, Erik, Mark to review.</p>
<p>3. Goal for multiple mappings is to be from Common or Inherited. Try to resolve any case that aren't.</p>
<p>4. If character used in many scripts (but not all) still may be Common or Inherited.</p>
<p>For example, <a target="c" href="character.jsp?a=1D5D">U+1D5D</a> ( ᵝ ) MODIFIER LETTER SMALL BETA is used in UPA, which is handled in Unicode as an extension of Latin. Encountering that character is not a signal that the text is Greek, but rather that it is Latin (IPA). One part of the data is derived: characters are given values of Hant or Hans based on the properties in Unihan. That allows for the distinction between simplified and traditional Chinese using the script_specials.</p>
<p> Suggestions for additions or modifications of the  values is requested, using the online reporting form [<a href="#Feedback">Feedback</a>].</p>
  <h2>2. <a name="Usage"></a>Usage</h2>
  <p>The following examples illustrate where the Script property alone is insufficient for common tasks:</p>
  <p><strong>Example 1.</strong> Mixed script detection for spoofing.</p>
  <blockquote>
    <p>Using the Unicode script property alone, for example, will not detect that <a target="c" href="character.jsp?a=0660">U+0660</a> ( ٠ ) ARABIC-INDIC DIGIT ZERO should not be mixed with Latin, nor that <a target="c" href="character.jsp?a=30FC">U+30FC</a> ( ー ) KATAKANA-HIRAGANA PROLONGED SOUND MARK should not be mixed with Latin. See [<a href="#UTS39">UTS39</a>] and [<a href="#UTS46">UTS46</a>].</p>
  </blockquote>
<p><strong>Example 2.</strong> Determination of script runs for text layout.</p>
<blockquote>
  <p>The Common characters listed in the above example should not continue a Latin script run, but should continue runs of the listed scripts.</p>
</blockquote>
<p><strong>Example 3.</strong> Regex property testing.</p>
<blockquote>
  <p>For many common tasks, the regex expression [:script=Arabic:] is too narrow, because it does not include <a target="c" href="character.jsp?a=0660">U+0660</a> ( ٠ ) ARABIC-INDIC DIGIT ZERO, but the expression [[:script=Arabic:][:script=Common:]] is far too broad, since it also includes <a target="c" href="character.jsp?a=30FC">U+30FC</a> ( ー ) KATAKANA-HIRAGANA PROLONGED SOUND MARK. Providing an extended property [:script_specials=Arabic:] allows for much finer-grained applications. See also <em>UTS #18, Unicode Regular Expressions</em> [<a href="#UTS18">UTS18</a>].</p>
</blockquote>
<h2>3. <a name="Stability"></a>Stability</h2>
  <p>The Script_Specials data depends on determinations of usage. It thus can be expected to change more frequently than more established Unicode properties, as more information is gleaned about the usage of given characters. Thus implementers should be prepared for enhancements and corrections to the data when they upgrade to the next version.</p>
  <h2>4. <a name="Data_File"></a>Data File</h2>
  <p>The <em>working draft</em> data file is at: <a href="ScriptSpecials.txt">ScriptSpecials.txt</a>. <span class="reviewnote">[TBD: the location and name of this file may change.]</span></p>
  <p>The file has the following format for each data line.</p>
  <blockquote>
    <p>Field 1: character or character range</p>
    <p>Field 2: space-delimited list of ISO 15924 script codes, currently limited to Unicode Script property values, with the addition of Hant and Hans.</p>
    <p>Comments:  currently list the Unicode script property value (short and long) followed by the character name.</p>
    <p>Where there is no data for a character, the value defaults to the same as the Unicode Script property value.</p>
  </blockquote>
  <p>For example:</p>
  <pre># scriptSpecials: [Arabic]
   0600  ; Arab                     # Zyyy (Common)             ARABIC NUMBER SIGN
...
# scriptSpecials: [Hans]
3469     ; Hans                     # Hani (Han)                CJK UNIFIED IDEOGRAPH-3469
...
# scriptSpecials: [Bopomofo, Han, Hangul, Hiragana, Katakana, Phags_Pa, Tibetan, Yi]
   3001  ; Bopo Hang Hani Hira Kana Phag Tibt Yiii #Zyyy (Common) IDEOGRAPHIC COMMA
...
# scriptSpecials: [Arabic]
   0600  ; Arab                     # Zyyy (Common)             ARABIC NUMBER SIGN
...</pre>
<span class="reviewnote">[Review Note: We may want to separate off the Hant and Hans data into a separate file.]</span>
  <h2><a name="Acknowledgements">Acknowledgements</a></h2>
  <p><span >Mark Davis  authored the bulk of the text, under direction from the Unicode Technical Committee. </span>Thanks also to the following people for their feedback or 
    contributions to this document or earlier versions of it: <span class="reviewnote" >[TBD]</span><span>.</span></p>
  <h2><a name="References">References</a></h2>
  <table cellspacing="0" cellpadding="4" border="0" class="noborder" style="border-collapse: collapse">
    <tr>
      <td class="noborder" valign="top" nowrap>[<a name="Feedback">Feedback</a>]</td>
      <td class="noborder" valign="top">Reporting Form<i><br>
      </i><a href="http://www.unicode.org/reporting.html">http://www.unicode.org/reporting.html<br>
      </a><em>For reporting errors and requesting information online.</em></td>
    </tr>
    <tr>
      <td class="noborder" valign="top" nowrap>[<a name="Reports">Reports</a>]</td>
      <td class="noborder" valign="top">Unicode Technical Reports<br>
        <a href="http://www.unicode.org/reports/">http://www.unicode.org/reports/<br>
        </a><i>For information on the status and development process for technical reports, 
            and for a list of technical reports.</i></td>
    </tr>
    <tr>
      <td class="noborder" valign="top" nowrap><span >[<a name="UAX24">UAX24</a>]</span></td>
      <td class="noborder" valign="top"><span >UAX #24: Script Names<br>
        <a href="http://www.unicode.org/reports/tr24/">http://www.unicode.org/reports/tr24/</a></span></td>
    </tr>
    <tr>
      <td class="noborder" valign="top" nowrap>[<a name="Unicode">Unicode</a>]</td>
      <td  valign="top">The Unicode Standard<br>
        <em>For the latest version, see:</em><br>
        <a href="http://www.unicode.org/versions/latest/">http://www.unicode.org/versions/latest/</a><br>
        <em>For the 5.2.0 version, see:</em><br>
      <a href="http://www.unicode.org/versions/Unicode5.2.0/">http://www.unicode.org/versions/Unicode5.2.0/</a></td>
    </tr>
    <tr>
      <td class="noborder" valign="top" nowrap>[<a name="Security"></a><a name="UTR36">UTR36</a>]</td>
      <td class="noborder" valign="top">UTR #36: <i>Unicode Security Considerations</i><br>
        <a href="http://www.unicode.org/reports/tr36/">http://www.unicode.org/reports/tr36/</a></td>
    </tr>
    <tr>
      <td class="noborder" valign="top" nowrap>[<a name="RegEx"></a><a name="UTS18">UTS18</a>]</td>
      <td class="noborder" valign="top">UTS #18: <i>Unicode Regular Expressions<br>
      </i> <a href="http://www.unicode.org/reports/tr18/"> http://www.unicode.org/reports/tr18/</a></td>
    </tr>
    <tr>
      <td class="noborder" valign="top" nowrap><span >[<a name="UTS39">UTS39</a>]</span></td>
      <td class="noborder" valign="top"><span >UTS #39: Unicode Security Mechanisms<br>
        <a href="http://www.unicode.org/reports/tr39/">http://www.unicode.org/reports/tr39/</a></span></td>
    </tr>
    <tr >
      <td class="noborder" valign="top" nowrap>[<a name="UTS46"></a>UTS46]</td>
      <td class="noborder" valign="top">Unicode IDNA Compatibility Processing<br>
        <a href="http://www.unicode.org/reports/tr46/ ">http://www.unicode.org/reports/tr46/ </a></td>
    </tr>
    <tr>
      <td class="noborder" valign="top" nowrap>[<a name="Versions">Versions</a>]</td>
      <td class="noborder" valign="top">Versions of the Unicode Standard<br>
        <a href="http://www.unicode.org/standard/versions/">http://www.unicode.org/standard/versions/</a><br>
        <i>For information on version numbering, and citing and referencing the Unicode Standard, 
          the Unicode Character Database, and Unicode Technical Reports.</i></td>
    </tr>
  </table>
  <h2><a name="Modifications">Modifications</a></h2>
  <p>The following summarizes modifications from the previous revision of this document.</p>
  <h3><b>Revision 1</b></h3>
  <ul>
    <li>First proposed draft version</li>
  </ul>
  <hr>
  <p class="copyright">Copyright © 2010 Unicode, Inc. All 
    Rights Reserved. The Unicode Consortium makes no expressed or implied warranty of any kind, 
    and assumes no liability for errors or omissions. No liability is assumed for incidental and 
    consequential damages in connection with or arising out of the use of the information or programs 
    contained or accompanying this technical report. The Unicode <a href="http://www.unicode.org/copyright.html">Terms of Use</a> apply.</p>
  <p class="copyright">Unicode and the Unicode logo are trademarks of Unicode, Inc., and are registered 
    in some jurisdictions.</p>
</div>
</body>
</html>
